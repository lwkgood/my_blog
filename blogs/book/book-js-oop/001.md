---
title: 001 第一章 面向对象的JavaScript
date: 2021-9-23
categories: 
 - Book
tags:
 - Book
sidebar: 'auto'
---

## ECMAScript

- ECMA（欧洲计算机制造商协会）创建了ECMA-262标准，该标准脱离了浏览器和Web独有的特性，集中描述JavaScript作为编程语言的核心部分

JavaScript 是一种解释型语言，源代码可以查看。

JavaSCript 通常涵盖3个部分：

1. ECMAScript 语言的核心部分（即变量、函数、循环等）：这部分独立于浏览器之外，可在其他环境中使用

2. 文档对象模型（DOM）：提供一种与HTML、XML文档交互的方式。

3. 浏览器对象模型（BOM）：是一个与浏览器环境有关的对象集合

## 严格模式

- ES5提供严格模式：在ES5发布之前，市面上各版互不兼容语言的子集。可选，使用时需在其头部声明 "use strict"

"use strict" 是一个 JavaScript 字符串，不支持 ES5 严格模式的老式浏览器会直接忽略它，而以普通的 JavaScript 对待其后的代码，即向后兼容，使用严格模式不会导致老式浏览器无法执行代码

## 面向对象的程序设计

面向对象程序设计（OOP）最常用到的概念：

- 对象、方法、属性
- 类
- 封装
- 聚合
- 重用与继承
- 多态

### **1. 对象**

所谓对象，也叫“实例”，指“事物”（包括人和物）在程序设计语言中的表现形式。“事物”可以是任何东西（如某个客观存在的对象 || 某些较为抽象的概念）

例子：

对于 猫 这种对象来说，它们具有某些明确的特性（如颜色、名字等），能够执行某些动作（如猫叫、睡觉等）。在OOP语义中，这些对象特性叫做属性，动作则叫做方法

口语方面的类比:

- 对象一般用名词来表示（如book、person）
- 方法一般是动词（如read、run）
- 属性值一般是形容词

### **2. 类**

**相似对象之间往往都有一些共同的组成特征**，例如蜂鸟和老鹰都具有鸟类特征，它们统称为鸟类

- 在OOP中，类实际上是对象（实例）的设计蓝图或制作配方，我们可以基于同一个类创建出许多不同的对象，类更多是一种模板，而对象则是在模板的基础上被创建出来的实体

**JavaScript 没有类**，它的一切都是基于对象，依靠一套原型（prototype）系统，而原型本身实际上也是一种对象

- 传统的面向对象语言中，描述：我基于 Person 类创建了一个叫做 Bob 的新对象
- 而基于原型的面向对象语言中，描述：我将现有的 Person 对象扩展成了一个叫做 Bob 的新对象

### **3. 封装**

封装：主要用于阐述对象中所包含的内容，通常由两部分组成

- 相关的数据（用于存储属性）
- 基于这些数据所能做的事（所能调用的方法）

信息隐藏（属性和方法的可见性 - 另一方面）

以MP3播放器为例，假设它是一个对象，我们这些用户使用该对象时，需要一些类似于按钮、显示屏的工作接口，这些接口会帮助我们使用该对象（播放歌曲...），而它内部如何工作，无需关注。

在OOP中，当我们在代码中调用一个对象的方法时，无论该对象是自己实现还是第三方库，不需要知道该方法如何工作。只需要知道所操作的对象的接口即可。

对于信息隐藏，在某些语言，通过 public、private、protected 这些关键字来限定方法和属性的可见性，这种限定分类定义了对象用户所能访问的层次：

- private 方法只有其所在对象内部的代码才有权访问
- public 方法是任何人都能访问

### **4. 聚合**

- 聚合（组合）：指我们将几个现有对象合并为一个新对象的过程，通过聚合，我们可以将一个问题分解为多个小问题，便于解决问题

例如：Book 是由一个或多个 author 对象、publisher 对象、table 对象等聚合而成的对象

### **5. 继承**

- 通过继承，可以优雅实现对现有代码的重用

例如：有一个叫 Person 的一般性对象，它包含姓名、出生日期等属性，以及步行、睡觉等功能性函数，当我们需要一个 Programmer 对象时，可以让 Programmer 对象 继承自 Person，Programmer对象只需要实现属于它自己的特殊功能（如：泡妞），而其他部分只需重用 Person 的实现即可。

- 传统的OOP环境中，继承通常指类与类之间的关系，由于JavaScript不存在类，它的继承只能发生在对象之间

当一个对象继承自另一个对象时，通常会往其中加入新方法，以扩展被继承的老对象，我们通常将这一过程称之为“B继承自A”或“B扩展自A”

- 覆写（重定义继承方法的过程）：对于新对象，它可以根据自己的需要，从继承的那组方法中选择几个来重新定义，这样做并不会改变对象的接口，因为其方法名是相同的，只不过当我们调用新对象时，该方法的行为与之前不同

### **6. 多态**

- 多态：不同对象通过相同的方法调用来实现各自行为的能力

当 Programmer 对象继承了上一级对象 Person 的所有方法，这意味着这两个对象都实现了“talk”等方法，而代码中有一个叫做 Bob 变量，即使不知道它是一个 Person 对象还是一个 Programmer 对象情况下，依然可以直接调用该对象的“talk”方法

<img :src="$withBase('/book/book-js-oop/001/1.png')"></img>
<img :src="$withBase('/book/book-js-oop/001/2.png')"></img>
