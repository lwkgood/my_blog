<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>004 第四章 对象 | Mike-Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/my_blog/favicon.ico">
    <meta name="description" content="但行好事，莫问前程">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/my_blog/assets/css/0.styles.ae08eee0.css" as="style"><link rel="preload" href="/my_blog/assets/js/app.ad85b43d.js" as="script"><link rel="preload" href="/my_blog/assets/js/3.7890fc1a.js" as="script"><link rel="preload" href="/my_blog/assets/js/1.3262f3e4.js" as="script"><link rel="preload" href="/my_blog/assets/js/16.2a47d77d.js" as="script"><link rel="prefetch" href="/my_blog/assets/js/10.75358a8b.js"><link rel="prefetch" href="/my_blog/assets/js/11.89762786.js"><link rel="prefetch" href="/my_blog/assets/js/12.df88269a.js"><link rel="prefetch" href="/my_blog/assets/js/13.08420703.js"><link rel="prefetch" href="/my_blog/assets/js/14.56780787.js"><link rel="prefetch" href="/my_blog/assets/js/15.0cd6263f.js"><link rel="prefetch" href="/my_blog/assets/js/17.683b01fd.js"><link rel="prefetch" href="/my_blog/assets/js/18.e8d0c867.js"><link rel="prefetch" href="/my_blog/assets/js/19.1054d2d1.js"><link rel="prefetch" href="/my_blog/assets/js/20.1cd3b38a.js"><link rel="prefetch" href="/my_blog/assets/js/21.2decd7c5.js"><link rel="prefetch" href="/my_blog/assets/js/22.5cc9e80f.js"><link rel="prefetch" href="/my_blog/assets/js/23.28a7a34f.js"><link rel="prefetch" href="/my_blog/assets/js/4.ca61c74d.js"><link rel="prefetch" href="/my_blog/assets/js/5.f30ec722.js"><link rel="prefetch" href="/my_blog/assets/js/6.c7f59c8a.js"><link rel="prefetch" href="/my_blog/assets/js/7.1ddc8cc3.js"><link rel="prefetch" href="/my_blog/assets/js/8.d9e79d2a.js"><link rel="prefetch" href="/my_blog/assets/js/9.c1ecba08.js">
    <link rel="stylesheet" href="/my_blog/assets/css/0.styles.ae08eee0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1156296a><div data-v-1156296a><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1156296a data-v-1156296a><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-1156296a data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>Mike-Blog</h3> <p class="description" data-v-4e82dffc data-v-4e82dffc>但行好事，莫问前程</p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>Mike</span>
            
          <!---->
          2021
        </a></span></div></div> <div class="hide" data-v-1156296a><header class="navbar" data-v-1156296a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/my_blog/" class="home-link router-link-active"><img src="/my_blog/logo.png" alt="Mike-Blog" class="logo"> <span class="site-name">Mike-Blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/my_blog/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      目录索引
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/categories/小程序/" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/Book/" class="nav-link"><i class="undefined"></i>
  Book
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/Git/" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/JavaScript/" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/扩展知识/" class="nav-link"><i class="undefined"></i>
  扩展知识
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/Vue/" class="nav-link"><i class="undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/TypeScript/" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      生活规划
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/my_blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><a href="/my_blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1156296a></div> <aside class="sidebar" data-v-1156296a><div class="personal-info-wrapper" data-v-828910c6 data-v-1156296a><img src="/my_blog/avatar.png" alt="author-avatar" class="personal-img" data-v-828910c6> <h3 class="name" data-v-828910c6>
    Mike
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>13</h3> <h6 data-v-828910c6>Articles</h6></div> <div data-v-828910c6><h3 data-v-828910c6>7</h3> <h6 data-v-828910c6>Tags</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><a href="/my_blog/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      目录索引
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/categories/小程序/" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/Book/" class="nav-link"><i class="undefined"></i>
  Book
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/Git/" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/JavaScript/" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/扩展知识/" class="nav-link"><i class="undefined"></i>
  扩展知识
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/Vue/" class="nav-link"><i class="undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/TypeScript/" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      生活规划
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/my_blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><a href="/my_blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript 面向对象编程指南</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my_blog/blogs/book/book-js-oop/001.html" class="sidebar-link">001 第一章 面向对象的JavaScript</a></li><li><a href="/my_blog/blogs/book/book-js-oop/002.html" class="sidebar-link">002 第二章 基本数据类型、数组、循环及条件表达式</a></li><li><a href="/my_blog/blogs/book/book-js-oop/003.html" class="sidebar-link">003 第三章 函数</a></li><li><a href="/my_blog/blogs/book/book-js-oop/004.html" aria-current="page" class="active sidebar-link">004 第四章 对象</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>004 第四章 对象</h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>Mike</span>
            
          <!---->
          2021
        </a></span></div></div> <div data-v-1156296a><main class="page"><section><div class="page-title"><h1 class="title">004 第四章 对象</h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>Mike</span></i> <i class="iconfont reco-date" data-v-1ff7123e><span data-v-1ff7123e>10/17/2021</span></i> <!----> <i class="tags iconfont reco-tag" data-v-1ff7123e><span class="tag-item" data-v-1ff7123e>Book</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="从数组到对象"><a href="#从数组到对象" class="header-anchor">#</a> 从数组到对象</h2> <p>数组实际上是一组值的列表，该列表中的每一个值都有自己的索引值（即数字键名），索引值从0开始，依次递增</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> myarr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token string">'purple'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myarr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['red', 'blue', 'yellow', 'purple']</span>
myarr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &quot;red&quot;</span>
myarr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &quot;purple&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>我们将索引健单独排成一列，再把对应的值排成另一列，就会列出一个健值表</p> <p><img src="/my_blog/book/book-js-oop/004/1.png"></p> <p>对象的情况和数组相似，唯一不同的是它的键值类型是自定义的，也就是索引方式不再局限于数组了，而可以使用一些更为友好的键名，如：first_name、age等</p> <p>下面看看对象由哪几部分组成：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> hero <span class="token operator">=</span> <span class="token punctuation">{</span>
    breed<span class="token operator">:</span> <span class="token string">&quot;Turtle&quot;</span><span class="token punctuation">,</span>
    occupation<span class="token operator">:</span> <span class="token string">&quot;Ninja&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol><li>有一个用于表示该对象的变量名hero</li> <li>与定义数组时所用的中括号[]不同，对象使用是大括号{}</li> <li>括号中用逗号分割的是组成该对象的元素（通常被称之为属性）</li> <li>键/值对之间用冒号分割，例如，key: value</li></ol> <p>有时候，我们还可以在键名（属性名）上面加一对引号，例如，下面三行代码所定义的内容是完全相同的：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> hero <span class="token operator">=</span> <span class="token punctuation">{</span> occupation<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> hero <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;occupation&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> hero <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">'occupation'</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>一般下，不建议在属性名上面加引号（能减少一些输入），但在以下情景中，引号是必须的：</p> <ul><li>如果属性名是JavaScript中的保留字之一</li> <li>如果属性名中包含空格或其他特殊字符的话（包括任何除字母、数字、下划线及美元符号以外的字符）</li> <li>如果属性名以数字开头的话
总之，所选的属性名不符合JavaScript中的变量命名规则，就必须对其加一对引号</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    $omething<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">'yes or no'</span><span class="token operator">:</span> <span class="token string">'yes'</span><span class="token punctuation">,</span>
    <span class="token string">'!@#$%^&amp;*'</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>当前这种方法的术语名词：用[]定义数组的方法称为数组文本标识法、用大括号{}定义对象的方法称为对象文本标识法</p> <h3 id="_1-元素、属性、方法与成员"><a href="#_1-元素、属性、方法与成员" class="header-anchor">#</a> 1.元素、属性、方法与成员</h3> <p>说到数组，我们常说其中包含的是元素，而对象，就说其中包含的是属性，对于JavaScript来说，并没有什么区别，只是在技术术语上的表达习惯不同</p> <p>另外，对象的属性也可以是函数，因为函数本身也是一种数据，这种情况下，我们称该属性为方法，如talk就是一个方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> dog <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'benji'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">talk</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Woof, woof!'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>也可以像下面这样，在数组中存储一些函数元素并在需要时调用它们，但不多见</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">what</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span>what<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">'Boo!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>有时还会看到一个对象的属性指向另一个对象属性的情况，而且所指向的属性也可以是函数</p> <h3 id="_2-哈希表、关联型数组"><a href="#_2-哈希表、关联型数组" class="header-anchor">#</a> 2.哈希表、关联型数组</h3> <p>在一些程序设计语言中，通常会存在两种不同的数组形式</p> <ol><li>一般性数组，也叫做索引型数组或枚举型数组（通常以数字为键名）</li> <li>关联型数组，也叫做哈希表或字典（通常以字符串为键值）
在JavaScript中，我们会用数组来表示索引型数组，而用对象来表示关联型数组。因此，我们想在JavaScript中使用哈希表，就必须用到对象</li></ol> <h3 id="_3-访问对象属性"><a href="#_3-访问对象属性" class="header-anchor">#</a> 3.访问对象属性</h3> <p>我们可以通过以下两种方式来访问对象的属性：</p> <ol><li>中括号表示法，例如hero['occupation']</li> <li>点号表示法，例如hero.occupation</li></ol> <p>相对而言，点号表示法更易于读写，但也不是总能适用，这一规则也适用于引用属性名，如果我们所访问的属性不符合变量命名规则，它就不能通过点号表示法来访问，让我们通过hero对象看这两种表示法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> hero <span class="token operator">=</span> <span class="token punctuation">{</span>
    breed<span class="token operator">:</span> <span class="token string">'Turtle'</span><span class="token punctuation">,</span>
    occupation<span class="token operator">:</span> <span class="token string">'Ninja'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>下面通过点号表示法来访问属性：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hero<span class="token punctuation">.</span>breed<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Turtle&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>再用中括号表示法来访问属性：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hero<span class="token punctuation">[</span><span class="token string">'occupation'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Ninja&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果我们访问的属性不存在，代码就会返回undefined</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'Hair color is'</span> <span class="token operator">+</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hero<span class="token punctuation">.</span>hair_color<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Hair color is undefined&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>另外，对象也包括其他对象：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> book <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Catch-22'</span><span class="token punctuation">,</span>
    published<span class="token operator">:</span> <span class="token number">1961</span><span class="token punctuation">,</span>
    author<span class="token operator">:</span> <span class="token punctuation">{</span>
        firstname<span class="token operator">:</span> <span class="token string">'Jason'</span><span class="token punctuation">,</span>
        lastname<span class="token operator">:</span> <span class="token string">'Hello'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>这里，如果想访问book对象的author属性对象的firstname属性，就需要：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>book<span class="token punctuation">.</span>author<span class="token punctuation">.</span>firstname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Jason&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>也可以连续使用中括号表示法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>book<span class="token punctuation">[</span><span class="token string">'author'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'lastname'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Hello&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>甚至可以混合使用：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>book<span class="token punctuation">.</span>author<span class="token punctuation">[</span><span class="token string">'lastname'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Hello&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>book<span class="token punctuation">[</span><span class="token string">'author'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>lastname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Hello&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>另外，如果要访问的属性名不确定，就必须用中括号表示法，它允许在运行时通过变量来实现相关属性的动态存取</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> key <span class="token operator">=</span> <span class="token string">'firstname'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>book<span class="token punctuation">.</span>author<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Jason&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_4-调用对象方法"><a href="#_4-调用对象方法" class="header-anchor">#</a> 4.调用对象方法</h3> <p>由于对象方法实际上只是一个函数类型的属性，因此它们的访问方式与属性相同，即用点号表示法或中括号表示法均可。其调用（请求）方式也与其他函数相同，在指定的方法名后加一对括号即可</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> hero <span class="token operator">=</span> <span class="token punctuation">{</span>
    breed<span class="token operator">:</span> <span class="token string">'Turtle'</span><span class="token punctuation">,</span>
    occupation<span class="token operator">:</span> <span class="token string">'Ninja'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'I am '</span> <span class="token operator">+</span> hero<span class="token punctuation">.</span>occupation<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

hero<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;I am Ninja&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>另外，也可以像访问数组一样用中括号来访问属性，用中括号来调用方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>hero<span class="token punctuation">[</span><span class="token string">'say'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用中括号来调用方法在实践中不常见，除非属性名是在运行时定义的：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> method <span class="token operator">=</span> <span class="token string">'say'</span><span class="token punctuation">;</span>
hero<span class="token punctuation">[</span>method<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>实践提示：尽量别使用引号，尽量使用点号表示法来访问对象的方法与属性，不要在对象中使用带引号的属性标识</p> <h3 id="_5-修改属性与方法"><a href="#_5-修改属性与方法" class="header-anchor">#</a> 5.修改属性与方法</h3> <p>由于JavaScript是一种动态语言，所以它允许我们随时对现存对象的属性和方法进行修改，其中自然包括添加与删除属性，可以先创建一个空对象，稍后为它添加属性</p> <p>首先创建一个“空”对象：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> hero <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>“空对象”---这里构造了一个“空”对象：var hero = {}; 这个“空”字要打引号，实际上这个对象并不是空的，虽然我们并没有为它定义属性，但它本身有一些继承的属性</p> <p>如果访问一个不存在的属性，就会：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">typeof</span> hero<span class="token punctuation">.</span>breed<span class="token punctuation">;</span> <span class="token comment">// &quot;undefined&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>为该对象添加一些属性和方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>hero<span class="token punctuation">.</span>breed <span class="token operator">=</span> <span class="token string">'turtle'</span><span class="token punctuation">;</span>
hero<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Leonardo'</span><span class="token punctuation">;</span>
hero<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hero<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

hero<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Leonardo&quot;</span>
<span class="token keyword">delete</span> hero<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// true -- 删除属性</span>
hero<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;undefined&quot; -- 找不到name属性</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>在JavaScript中，对象在任何时候都可以改变，如增加、删除、修改属性等。但对于某些内建对象的一些属性是不可改变的</p> <h3 id="_6-使用this值"><a href="#_6-使用this值" class="header-anchor">#</a> 6.使用this值</h3> <p>在上面的示例中，方法sayName()是直接通过hero.name来访问hero对象的name属性的。事实上，当我们处于某个对象的方法内部时，还可以用另一种方法来访问同一对象的属性，即该对象的特殊值this</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> hero <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Rafaelo'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">sayName</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

hero<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Rafaelo&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>即，当我们引用this值时，实际上所引用的就是“这个对象”或“当前对象”</p> <h3 id="_7-构造器函数"><a href="#_7-构造器函数" class="header-anchor">#</a> 7.构造器函数</h3> <p>我们可以通过构造器函数的方式来创建对象：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Hero</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>occupation <span class="token operator">=</span> <span class="token string">'Ninja'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>为了能使用该函数来创建对象，需要使用new操作符：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> hero <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hero</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

hero<span class="token punctuation">.</span>occupation<span class="token punctuation">;</span> <span class="token comment">// &quot;Ninja&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>使用构造器函数的好处之一是可以在创建对象时接收一些参数，如下面通过接收参数的方式来设定name属性，并用同一个构造器创建不同的对象：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Hero</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>occupation <span class="token operator">=</span> <span class="token string">'Ninja'</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">whoAreYou</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;I'm&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot; and I'm a&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>occupation<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> h1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hero</span><span class="token punctuation">(</span><span class="token string">'Michelangelo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> h2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hero</span><span class="token punctuation">(</span><span class="token string">'Donatello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
h1<span class="token punctuation">.</span><span class="token function">whoAreYou</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;I'm Michelangelo and I'm a Ninja&quot;</span>
h2<span class="token punctuation">,</span><span class="token function">whoAreYou</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;I'm Donatello and I'm a Ninja&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>实践是：应该将构造器函数的首字母大写，便于区别于其他一般函数</p> <p>如果我们在调用一个构造器函数时忽略了new操作符，尽管代码不出错，但是它的行为可能会令人出乎预料：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> h <span class="token operator">=</span> <span class="token function">Hero</span><span class="token punctuation">(</span><span class="token string">'Leonardo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span> h<span class="token punctuation">;</span> <span class="token comment">// &quot;undefined&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>由于这里没有使用new操作符，因此我们不是在创建一个新对象。这个函数调用与其他函数并没有区别，这里的h值应该是该函数的返回值。而由于该函数没有显式返回值（它没有使用关键字 return）,它实际上返回的是undefined值，并将该值赋值给了h，<strong>这种情况下，this引用的是全局对象</strong></p> <h3 id="_8-全局对象"><a href="#_8-全局对象" class="header-anchor">#</a> 8.全局对象</h3> <ul><li>程序所在的宿主环境一般都会为其提供一个全局对象，而之前讨论的全局变量只不过是该对象的属性</li></ul> <p>当程序的宿主环境是Web浏览器时，它所提供的全局对象是 window，另一种获取全局对象的方法（该方法在浏览器以外的大多数其他环境也有效）是在构造器函数之外使用this关键字。如，可以在任何函数之外的全局代码部分这么做</p> <p>示例，首先我们在所有函数之外声明一个全局变量：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过各种不同方式来访问该全局变量：</p> <ol><li>当作一个变量a来访问</li> <li>当作全局对象的一个属性来访问，如window['a']或者window.a</li> <li>通过this所指向的全局对象属性来访问</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

window<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// 1</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>让我们回头分析上面不使用new操作符调用构造器函数的情况，那时，this值指向的是全局对象，并且所有的属性设置都是针对this所代表的window对象，即，当我们声明了一个构造函数，但又不通过new来调用它时，代码就会返回undefined：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Hero</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> h <span class="token operator">=</span> <span class="token function">Hero</span><span class="token punctuation">(</span><span class="token string">'Leonardo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span> h<span class="token punctuation">;</span> <span class="token comment">// &quot;undefined&quot;</span>
<span class="token keyword">typeof</span> h<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// TypeError: Cannot read property 'name' of undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>由于在Hero中使用了this,所以这里会创建一个全局变量（同时也是全局对象的一个属性）：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Leonardo&quot;</span>

window<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// &quot;Leonardo&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>而使用new来调用相同的构造器函数，就会创建一个新对象，并且this也会自动指向该对象：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> h2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hero</span><span class="token punctuation">(</span><span class="token string">'Michelangelo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">typeof</span> h2<span class="token punctuation">;</span> <span class="token comment">// &quot;object&quot;</span>
h2<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// &quot;Michelangelo&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>此外，函数所建的函数也可以当作window对象方法来调用（下面效果相同）：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'101 dalmatians'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 101</span>

window<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'101 dalmatians'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 101</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>并且，如果在所有函数之外，这样使用也可以：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'101 dalmatians'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 101</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_9-构造器属性"><a href="#_9-构造器属性" class="header-anchor">#</a> 9.构造器属性</h3> <p>当我们创建对象时，实际上同时也赋予了该对象一种特殊的属性--即构造器属性，该属性实际上是一个指向用于创建该对象的构造器函数的引用</p> <p>例如，继续上面的例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>h2<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span> <span class="token comment">// function Hero(name) { this.name = name; }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>由于构造器属性所引用的是一个函数，因此我们也可以利用它来创建一个其他新对象。例如像下面，大意是：“无论对象h2有没有被创建，我们都可以用它来创建另一个对象”</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> h3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">h2<span class="token punctuation">.</span>constructor</span><span class="token punctuation">(</span><span class="token string">'Rafaello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

h3<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// &quot;Rafaello&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>另外，如果对象是通过对象文本标识法所创建的，那么实际上它就是由内建构造器Object()函数所创建的：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

o<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span> <span class="token comment">// function Object() { [native code] }</span>

<span class="token keyword">typeof</span> o<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span> <span class="token comment">// &quot;function&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_10-instanceof操作符"><a href="#_10-instanceof操作符" class="header-anchor">#</a> 10.instanceof操作符</h3> <ul><li>通过instanceof操作符，可以测试一个对象是不是由某个指定的构造器函数所创建的</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Hero</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> h <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hero</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
h <span class="token keyword">instanceof</span> <span class="token class-name">Hero</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
h <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
o <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>PS: 这里的函数名后面没有括号（即不是h instanceof Hero()）,因为不是函数调用，直接引用该函数名字即可</p> <h3 id="_11-返回对象的函数"><a href="#_11-返回对象的函数" class="header-anchor">#</a> 11.返回对象的函数</h3> <p>除了使用new操作符调用构造器函数外，也可只用一般函数来创建对象，这需要一个能执行某些预备工作，并以对象为返回值的函数，如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> name
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 调用factory()生成对象</span>
<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

o<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// &quot;one&quot;</span>
o<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span> <span class="token comment">// function Object() { [native code] }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>构造器函数也可以返回对象，但在this值的使用上会有所不同，这意味着我们需要修改构造器函数的默认行为</p> <p>这是构造器一般用法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token constant">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
c<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>但现在需要考虑的是这种用法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token constant">C2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        b<span class="token operator">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> c2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span> c2<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// &quot;undefined&quot;</span>
c2<span class="token punctuation">.</span>b<span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>在这里，构造器返回的不再是包含属性a的this对象，而是另一个包含属性b的对象。但这只是在函数的返回值是一个对象时才发生，而返回的是一个非对象类型时，该构造器将会照常返回this</p> <p>关于对象在构造器函数内部是如何创建出来的，可以设想在函数开头处存在一个叫this的变量，这个变量会在函数结束时被返回，就像这样：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token constant">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// var this = {}; // pseudo code, you can't do this</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">// return this;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_12-传递对象"><a href="#_12-传递对象" class="header-anchor">#</a> 12.传递对象</h3> <p>当拷贝某个对象或者将它传递给某个函数时，传递的都是该对象的引用，因此我们在引用上所做的任何改动，实际上都会影响它所引用的原对象</p> <p>将对象赋值给另一个变量，对该变量做改变操作，原对象也跟着改变：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> original <span class="token operator">=</span> <span class="token punctuation">{</span> howmany<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> mycopy <span class="token operator">=</span> original<span class="token punctuation">;</span>
mycopy<span class="token punctuation">.</span>howmany<span class="token punctuation">;</span> <span class="token comment">// 1</span>
mycopy<span class="token punctuation">.</span>howmany <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
original<span class="token punctuation">.</span>howmany<span class="token punctuation">;</span> <span class="token comment">// 100</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>同样，将对象传递给函数情况也一样：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> original <span class="token operator">=</span> <span class="token punctuation">{</span> howmany<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">nullify</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> o<span class="token punctuation">.</span>howmany <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">nullify</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span><span class="token punctuation">;</span>
original<span class="token punctuation">.</span>howmany<span class="token punctuation">;</span> <span class="token comment">// 0 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_13-比较对象"><a href="#_13-比较对象" class="header-anchor">#</a> 13.比较对象</h3> <p>当对对象进行比较操作时，当且仅当两个引用指向同一个对象时，结果为true，而如果是不同的对象，即使它们碰巧拥有相同的属性和方法，比较操作也会返回false</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> fido <span class="token operator">=</span> <span class="token punctuation">{</span> breed<span class="token operator">:</span> <span class="token string">'dog'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> benji <span class="token operator">=</span> <span class="token punctuation">{</span> breed<span class="token operator">:</span> <span class="token string">'dog'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

benji <span class="token operator">===</span> fido<span class="token punctuation">;</span> <span class="token comment">// false</span>
benji <span class="token operator">==</span> fido<span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>新建一个变量mydog，并将其中一个对象赋值给它，这样一来，mydog实际上就指向了这个变量</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> mydog <span class="token operator">=</span> benji<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这种情况下，mydog 与 benji 所指向的对象是相同的（改变mydog的属性等同于改变benji）,比较操作返回true</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>mydog <span class="token operator">===</span> benji<span class="token punctuation">;</span> <span class="token comment">// true</span>

mydog <span class="token operator">===</span> fido<span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="内建对象"><a href="#内建对象" class="header-anchor">#</a> 内建对象</h2> <p>上面所使用的实际上都是Object()构造器函数，它会在我们使用对象文本标识法，或访问相关构造器属性时返回新建的对象，Object()只是众多内建构造器之一</p> <p>内建对象大致可以分为三大类：</p> <ul><li>数据封装类对象--包括Object、Array、Boolean、Number、String，这些对象代表着JavaScript中不同的数据类型，并且都拥有各自不同的typeof返回值以及undefined和null状态</li> <li>工具类对象--包括Math、Date、RegExp等用于提供便利的对象</li> <li>错误类对象--包括一般性错误对象以及其他各种更特殊的错误类对象，它们可以在某些异常发生时帮助我们纠正程序工作状态</li></ul> <p>Ps: 不要去纠结什么是内建对象、什么是内建构造器，实际上它们是一回事，无论是函数还是构造器函数，最后都是对象</p> <h3 id="_1-object"><a href="#_1-object" class="header-anchor">#</a> 1.Object</h3> <ul><li>Object是JavaScript中所有对象的父级对象，意味着我们创建的所有对象都继承于此</li></ul> <p>新建一个空对象，即可用对象文本标识法也可以调用Object()构造器函数，下面代码等价：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>所谓的“空”对象（指像{}这种除继承来的属性之外，不含任何自身属性的对象），实际上并非是完全无用的，它还是包含一些继承来的方法和属性，如下：</p> <ol><li>o.constructor --- 返回构造器函数的引用</li> <li>o.toString() --- 返回对象的描述字符串</li> <li>o.valueOf() --- 返回对象的单值描述信息，通常返回的就是对象本身</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

o<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Object]&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>toString()方法会在某些需要用字符串来表示对象的时候被JavaScript内部调用。如，alert()的工作就需要用到这样的字符串，所以，如果将对象传递给了一个alert()函数，toString()方法就会在后台被调用，下面代码结果相同：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>另外，字符串连接操作也会使用字符串描述文本，如果将某个对象与字符串进行连接，那么该对象就先调用自身的toString()方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">&quot;An object: &quot;</span> <span class="token operator">+</span> o<span class="token punctuation">;</span> <span class="token comment">// &quot;An object: [object Object]&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>valueOf()方法也是所有对象共有的一个方法，对于简单对象（即以Object()为构造器的对象）来说，valueOf()方法返回的是对象自己</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>o<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> o<span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>总之：</p> <ol><li>创建对象时既可以用var o = {}的形式（即执行对象文本标识法，比较推荐），也可以用var o = new Object();</li> <li>无论多复杂的对象，都继承自Object对象，并且拥有其所有的方法和属性</li></ol> <h3 id="_2-array"><a href="#_2-array" class="header-anchor">#</a> 2.Array</h3> <p>Array()是一个用来构建数组的内建构造器函数：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 数组文本标识法，两者等效</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>往数组添加元素：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
a<span class="token punctuation">;</span> <span class="token comment">// [1, 2]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>当使用Array()构造器创建数组时，也可通过传值的方式为其设定元素</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'four'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, &quot;four&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果传递给构造器的是一个单独的数字，就会出现异常情况，即该数值会被认为是数组的长度</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a2<span class="token punctuation">;</span> <span class="token comment">// [undefined, undefined, undefined, undefined, undefined]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>既然数组由构造器创建，那实际上数组是一个对象</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &quot;object&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>由于数组也是对象，那它也继承了Object所有的方法和属性</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'four'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;1,2,3,four&quot;</span>
a<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, &quot;four&quot;]</span>
a<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span> <span class="token comment">// function Array() { [native code] }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>尽管数组是一种对象，它也有特殊之处：</p> <ol><li>数组的属性名是从0开始递增，并自动生成数值</li> <li>数组拥有一个用于记录元素数量的length属性</li> <li>数组在父级对象的基础上扩展了更多额外的内建方法</li></ol> <p>验证对象与数组之间的区别：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 定义数组对象时会自动生成一个length属性，而在一般对象中是没有</span>
a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token keyword">typeof</span> o<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// &quot;undefined&quot;</span>

<span class="token comment">// 为数组和对象添加以数字或非数字为键名的属性操作上，没有什么区别</span>
a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
o<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>prop <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
o<span class="token punctuation">.</span>prop <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">// length属性通常会随数字键名属性的数量而更新，而忽略非数字键名属性</span>
a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 1</span>

<span class="token comment">// 也可手动设置length属性，如果设置的值大于当前数组中元素数量，剩下部分会被自动创建（值为undefined）的空元素所填充：</span>
a<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 5</span>
a<span class="token punctuation">;</span> <span class="token comment">// [1, undefined, undefined, undefined, undefined]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>除了从父级对象那里继承的方法外，数组对象还有其他方法，如sort()、join()、slice()等</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// push() -- 在数组的末端添加一个新元素，返回改变后的数组长度</span>
a<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'new'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6   a.push('new') === a[a.length] = &quot;new&quot;</span>
a<span class="token punctuation">;</span> <span class="token comment">// [3, 5, 1, 7, &quot;test&quot;, &quot;new&quot;]</span>

<span class="token comment">// pop() -- 移除数组最后一个元素，返回被移除的元素</span>
a<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;new&quot;  a.pop() === a.length--</span>
a<span class="token punctuation">;</span> <span class="token comment">// [3, 5, 1, 7, &quot;test&quot;]</span>

<span class="token comment">// sort() -- 数组排序，返回排序后的数组</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
b<span class="token punctuation">;</span> <span class="token comment">// [1, 3, 5, 7, &quot;test&quot;]</span>
a <span class="token operator">===</span> b<span class="token punctuation">;</span> <span class="token comment">// true  排序后，a和b所指向的数组是相同的</span>

<span class="token comment">// join() -- 通过该方法的参数设定元素之间用什么字符（串）连接，返回一个由目标数组中所有元素值用字符（串）连接而成的字符串</span>
a<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' is not '</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;1 is not 3 is not 5 is not 7 is not test&quot;</span>

<span class="token comment">// slice() -- 在不修改目标数组情况下，返回其中的某个片段，该片段的首尾索引位置由slice()的头两个参数指定（都以0为基数）</span>
b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 5]</span>
b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1]</span>
b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 3]</span>
<span class="token comment">// 所有的截取完成后，原数组状态不变</span>
a<span class="token punctuation">;</span> <span class="token comment">// [1, 3, 5, 7, &quot;test&quot;]</span>

<span class="token comment">// splice() -- 会修改目标数组，会移除并返回指定切片，在可选下，会用指定的新元素来填补被切除的空缺，该方法头两个参数所指定的是要移除切片的首尾索引位置，其他参数则用于填补的新元素值</span>
b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 5]</span>
a<span class="token punctuation">;</span> <span class="token comment">// [1, 100, 101, 102, 7, &quot;test&quot;]</span>
<span class="token comment">// 用于填补的新元素是可选的，也可直接跳过</span>
a<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [100, 101, 102]</span>
a<span class="token punctuation">;</span> <span class="token comment">// [1, 7, &quot;test&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="_3-function"><a href="#_3-function" class="header-anchor">#</a> 3.Function</h3> <p>函数是一种特殊的数据类型--对象，函数对象的内建构造器是Function(), 可将它作为创建函数的备选方式（不推荐），三种定义函数方式：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// function declaration</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>

<span class="token keyword">var</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// function expression</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>

<span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'return a + b;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>如果使用是Function()构造器，就必须要通过参数传递的方式来设定函数的参数名（通常是用字符串）以及函数体中的代码（也是字符串）。JavaScript引擎会自动对源代码解析（这是因为JavaScript引擎无法检查字符串--[您所传递的参数]中的内容），并创建新函数，这样，就会带来与eval()、setTimeout()相似的缺点，尽量避免使用Function()构造器定义函数，因为它始终以字符串的形式通过JavaScript的代码检查</p> <p>如果一定想用Function()构造器来创建一个拥有许多参数的函数，可了解一点：这些参数可以是一个由逗号分割而成的单列表：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 下面这些函数的定义相同</span>
<span class="token keyword">var</span> first <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span> <span class="token punctuation">(</span>
    <span class="token string">'a, b, c, d'</span><span class="token punctuation">,</span>
    <span class="token string">'return arguments;'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">first</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>

<span class="token keyword">var</span> second <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span> <span class="token punctuation">(</span>
    <span class="token string">'a, b, c'</span><span class="token punctuation">,</span>
    <span class="token string">'d'</span><span class="token punctuation">,</span>
    <span class="token string">'return arguments;'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">second</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>

<span class="token keyword">var</span> third <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span> <span class="token punctuation">(</span>
    <span class="token string">'a'</span><span class="token punctuation">,</span>
    <span class="token string">'b'</span><span class="token punctuation">,</span>
    <span class="token string">'c'</span><span class="token punctuation">,</span>
    <span class="token string">'d'</span><span class="token punctuation">,</span>
    <span class="token string">'return arguments;'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">third</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="_1-函数对象的属性"><a href="#_1-函数对象的属性" class="header-anchor">#</a> 1.函数对象的属性</h4> <p>与其他对象相同的是，函数对象中也含有名为 constructor 的属性，其引用的就是 Function() 构造器函数</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">myfunc</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

myfunc<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span> <span class="token comment">// function Function() {[native code]}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>函数对象中也有一个length属性，用于记录该函数声明时所决定的参数数量</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">myfunc</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

myfunc<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>prototype属性</strong></p> <p>prototype属性是JavaScript中使用最广泛的函数属性，这里先简单说明：</p> <ol><li>每个函数的prototype属性中都指向了一个对象</li> <li>它只有在该函数是构造器时才会发挥作用</li> <li>该函数创建的所有对象都会持有一个该prototype属性的引用，并可以将其当做自身的属性来使用</li></ol> <p>演示下prototype属性的使用，先创建一个简单对象，对象中只有一个name属性和一个say()方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> ninja <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Ninja'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'I am a '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>验证很简单，因为任何一个新建函数（即时这个函数没有函数体）中都会有一个prototype属性，而该属性会指向一个新对象</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">typeof</span> <span class="token class-name">F</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// &quot;object&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果对该prototype属性进行修改，就会发生一些有趣的变化：当前默认的空对象被直接替换成了其他对象。下面将变量ninja赋值给这个prototype</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> ninja
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>现在，如果将F()当做一个构造器函数来创建对象baby_ninja,那么新对象baby_ninja就会拥有对F.prototype属性（也就是ninja）的访问权</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> baby_ninja <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
baby_ninja<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// &quot;Ninja&quot;</span>
baby_ninja<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;I am a Ninja&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_2-函数对象的方法"><a href="#_2-函数对象的方法" class="header-anchor">#</a> 2.函数对象的方法</h4> <p>所有的函数对象都是继承自顶级父对象Object，因此它拥有Object对象的方法，例如toString()，当我们对一个函数调用toString()方法时，所得到的就是该函数的源代码</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">myfunc</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

myfunc<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token string">&quot;function myfunc(a,b,c) { return a + b + c; }&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>但如果我们想用这种方法来查看那些内建函数的源码的话，就只会得到一个毫无用处的字符串[native code]</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>parseInt<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;function parseInt() { [native code] }&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样的话，可以用toString()函数来区分本地方法和自定义方法，但该方法的行为与运行环境有关，浏览器之间也会有差异，比如空格和空行的多少</p> <h4 id="_3-call-和apply"><a href="#_3-call-和apply" class="header-anchor">#</a> 3.call()和apply()</h4> <p>在JavaScript中，每个函数都有call()和apply()两个方法，你可以用它们来触发函数，并指定相关的调用参数</p> <p>此外，这两个方法还要另一个功能，它可以让一个对象去“借用”另一个对象的方法，并为己所用，这也是一种简单实用的代码重用</p> <p>我们定义一个some_obj对象，该对象中有一个say()方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> some_obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Ninja'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">who</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'Haya '</span> <span class="token operator">+</span> who <span class="token operator">+</span> <span class="token string">', I am a '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>调用该对象的say()方法，并在其中使用this.name来访问其name属性：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>some_obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token string">'Dude'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Haya Dude, I am a Ninja&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>再创建一个my_obj对象，它只有一个name属性:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> my_obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Scripting guru'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>显然，some_obj的say()方法也适用于my_obj,因此我们希望将该方法当做my_obj自身的方法来调用。在这种情况下，可以试试say()函数中的对象方法call():</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>some_obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>my_obj<span class="token punctuation">,</span> <span class="token string">'Dude'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Haya Dude, I am a Scripting guru&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>由于我们在调用say()函数的对象方法call()时传递了两个参数：对象my_obj和字符串“Dude”。这样，当say()被调用时，其中的this就被自动设置成了my_obj对象的引用。因此我们看到，this.name返回的不再是&quot;Ninja&quot;,而是&quot;Scripting guru&quot;了（<strong>实际上是通过call的首参数修改了对象函数的this值</strong>）</p> <p>如果我们调用call方法时，需要传递更多的参数，可以在后面依次加入它们：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>some_obj<span class="token punctuation">.</span><span class="token function">someMethod</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>my_obj<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>另外，如果我们没有将对象传递给call()的首参数，或者传递给它的是null,它的调用对象将会被默认为全局对象（<strong>即this指向的是全局对象</strong>）</p> <p>apply()的工作方式与call()基本相同，唯一的不同之处在于参数的传递形式，这里目标函数所需要的参数都是通过一个数组来传递。所以，下面两行代码的作用是等效的：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>some_obj<span class="token punctuation">.</span><span class="token function">someMethod</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>my_obj<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
some_obj<span class="token punctuation">.</span><span class="token function">someMethod</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>my_obj<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 之前的示例，可以这样写</span>
some_obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>my_obj<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'Dude'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Haya Dude, I am a Scripting guru&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_4-重新认识arguments对象"><a href="#_4-重新认识arguments对象" class="header-anchor">#</a> 4.重新认识arguments对象</h4> <p>上一章，已经掌握了如何在一个函数中通过arguments来访问传递给该函数所需的全部参数：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> arguments<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>尽管arguments看上去像是一个数组，但它实际上是一个类似数组的对象。它和数组相似是因为其中也包含了索引元素和length属性。但相似之处到此为止，因为arguments不提供一些像sort()、slice()等数组方法</p> <p>但我们可以把arguments转换成数组，这样就可以对它使用各种各样的数组方法了，下面例子，使用call()方法做到这点：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [4, 3, 2, 1]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>如您所见，这里的做法是新建一个空数组[],再使用它的slice属性，当然，您也可以通过Array.prototype.slice来调用同一个函数</p> <h4 id="_5-推断对象类型"><a href="#_5-推断对象类型" class="header-anchor">#</a> 5.推断对象类型</h4> <p>arguments对象和数组之间有不同之处，那二者之间如何区分呢？或者说：既然数组的typeof返回值也是“object”，那么要如何区分对象与数组呢？</p> <p>答案：使用Object对象的toString()方法，这个方法会返回所创建对象的内部类名：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Object]&quot;</span>

<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Array]&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这里，toString()方法必须要来自于Object构造器的prototype属性，直接调用Array的toString()方法是不行的，因为在Array对象中，这个方法已经出于其他目的被重写了：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;1,2,3&quot;</span>

<span class="token comment">// 也可以写为：</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>下面尝试将Object.prototype.toString设置一个引用变量，让编码更简短：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> toStr <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果用这个方法调用arguments,很快就能发现它与Array之间的区别：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">toStr</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;[object Arguments]&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>同样，这样方法也适用于DOM元素：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">toStr</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object HTMLBodyElement]&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_4-boolean"><a href="#_4-boolean" class="header-anchor">#</a> 4.Boolean</h3> <p>介绍与Boolean()构造器相关的内容：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这里最重要的一点是，必须明白这里所新创建的b是一个对象，而不是一个基本数据类型的布尔值。如果想将b转换成基本数据类型的布尔值，我们可以调用它的valueOf()方法（继承自Object对象）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span> b<span class="token punctuation">;</span> <span class="token comment">// &quot;object&quot;</span>
<span class="token keyword">typeof</span> b<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;boolean&quot;</span>
b<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;false&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>总体而言，用Boolean()构造器所创建的对象并没有多少实用性，因为它并没有提供来自父级对象以外的任何方法和属性</p> <p>不使用new操作符而单独作为一般函数使用时，Boolean()可以将一些非布尔值转换为布尔值（其效果相当于进行两次取反操作：!!value）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>而且，在JavaScript中，除了那六种falsy值外，其他所有的都属于truthy值，其中也包括所有的对象。这就意味着所有由new Boolean()语句所创建的布尔对象都等于true，因为它们都是对象</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这种情况易混淆，考虑到Boolean对象并没有特别的方法，建议最好还是一直使用基本类型来表示布尔值比较稳妥</p> <h3 id="_5-number"><a href="#_5-number" class="header-anchor">#</a> 5.Number</h3> <p>Number()函数的用法与Boolean()类似，即：</p> <ol><li>在被当做构造器函数（即用于new操作符），它会创建一个对象</li> <li>在被当做一般函数时，它会试图将任何值转换为数字，这与parseInt()或parseFloat()起到的作用基本相同</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'12.12'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
n<span class="token punctuation">;</span> <span class="token comment">// 12.12</span>
<span class="token keyword">typeof</span> n<span class="token punctuation">;</span> <span class="token comment">// &quot;number&quot;</span>

<span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token string">'12.12'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span> n<span class="token punctuation">;</span> <span class="token string">&quot;object&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>由于函数本身也是对象，所以会拥有一些属性，在Number()函数中，有一些内置属性值得注意（它们是不可更改的）：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Number<span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">;</span> <span class="token comment">// 1.7976931348623157e+308</span>
Number<span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">;</span> <span class="token comment">// 5e-324</span>
Number<span class="token punctuation">.</span><span class="token constant">POSITIVE_INFINITY</span><span class="token punctuation">;</span> <span class="token comment">// Infinity</span>
Number<span class="token punctuation">.</span><span class="token constant">NEGATIVE_INFINITY</span><span class="token punctuation">;</span> <span class="token comment">// -Infinity</span>
Number<span class="token punctuation">.</span><span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>此外，Number对象还提供三个方法，分别是：toFixed()、toPrecision()、toExponential()</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">123.456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
n<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;123.5&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>需要注意的是，你可以在事先未创建Number对象的情况下使用这些方法，在这些例子中，Number对象均在后台完成创建和销毁：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token number">12345</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toExponential</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;1.2345e+4&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>与所有的对象一样，Number对象也提供了自己的toString()方法，但值得注意的是，该对象的toString()方法有一个可选的radix参数（它的默认值是10）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
n<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;255&quot;</span>
n<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;255&quot;</span>
n<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;ff&quot;</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;11&quot;</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;3&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_6-string"><a href="#_6-string" class="header-anchor">#</a> 6.String</h3> <p>通过String()构造器函数来新建String对象，该对象为我们提供了一系列用于文本操作的方法，但您最好还是使用基本的字符串类型</p> <p>来看看String对象与基本的字符串类型之间有什么区别：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> primitive <span class="token operator">=</span> <span class="token string">'Hello'</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span> primitive<span class="token punctuation">;</span> <span class="token comment">// &quot;string&quot;</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span> obj<span class="token punctuation">;</span> <span class="token comment">// &quot;object&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>String对象实际上就像是一个字符数组，其中也包括用于每个字符的索引属性（虽然这个特性在ES5开始才引入，但早已本各大浏览器支持），以及整体的length属性</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>obj<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &quot;w&quot;</span>
obj<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &quot;d&quot;</span>
obj<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果想获得String对象的基本类型值，可以调用该对象的valueOf()或toString()方法（都继承自Object对象）。不过很少机会这样做，因为很多场景中，String对象都会被自动转换为基本类型的字符串</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>obj<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;world&quot;</span>
obj<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;world&quot;</span>
obj <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;world&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>而基本类型的字符串就不是对象了，因此它们不含有任何属性和方法。但JavaScript还是为我们提供了一些将基本字符串类型转换为String对象的语法（就像我们之前转换基本类型的数字一样）</p> <p>例如在下面示例中，当我们将一个基本字符串当做对象来使用时，后台就会相应的创建String对象，在调用完后又把String对象给立即销毁</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">&quot;potato&quot;</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 6</span>
<span class="token string">&quot;tomato&quot;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &quot;t&quot;</span>
<span class="token string">&quot;potato&quot;</span><span class="token punctuation">[</span><span class="token string">&quot;potatoes&quot;</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &quot;s&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>最后在看一个说明基本字符串与String对象之间区别的例子：当它们被转换成布尔值，尽管空字符串属于falsy值，但所有的String对象都是truthy值（因为所有的对象都是truthy值）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>与Number()和Boolean()类似，如果不通过new操作符来调用String(),它就会试图将其参数转换为一个基本字符串：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">String</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;1&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果其参数是一个对象的话，这就等于调用该对象的toString()方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">{</span>p<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Object]&quot;</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;1,2,3&quot;</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>String对象的一些方法</strong></p> <p>首先新建String对象开始：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;Couch potato&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// toUpperCase()、toLowerCase() 用于字符串大小写转换</span>
s<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;COUCH POTATO&quot;</span>
s<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;couch potato&quot;</span>

<span class="token comment">// charAt() 返回指定位置的字符，它与中括号的作用相当（字符串本身就是一个字符数组）</span>
s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;C&quot;</span>
s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &quot;C&quot;</span>
<span class="token comment">// 如果传递给charAt()的位置并不存在，它就会返回一个空字符串</span>
s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;&quot;</span>

<span class="token comment">// indexOf() 实现字符串内部搜索，该方法在遇到匹配字符时会返回第一次匹配位置的索引值。由于该索引值是从0开始计数的，所以字符串&quot;Couch&quot;中第二个字符&quot;o&quot;的索引值为1</span>
s<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token comment">// 另外，也可以通过可选参数指定搜索开始的位置（以索引值的形式）。例如下面所找到的就是字符串中的第二个&quot;o&quot;，因为我们指定的搜索是从索引2处开始的</span>
s<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7</span>
<span class="token comment">// 如果想让搜索从字符串的末端开始，可以调用lastIndexOf()方法（但返回的索引值仍然是从前到后计数的）</span>
s<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 11</span>
<span class="token comment">// 当然，上述方法的搜索对象不仅局限于字符，也可以用于字符串搜索。并且搜索是区分大小写的</span>
s<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Couch'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token comment">// 如果方法找不到匹配对象，返回的位置索引值就为-1</span>
s<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'couch'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -1</span>
<span class="token comment">// 如果想进行一次大小写无关的搜索，可以将字符串转换为小写后再执行搜索：</span>
s<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'couch'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token comment">// 如果相关的搜索方法返回的索引值是0，就说明字符串的匹配部分是从0开始的，这有可能给if语句使用带来混淆元素，当我们像下面这样使用if语句，就会将索引值0隐式地转换为布尔值false,虽然写法没错，但逻辑上却错了</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Couch'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token comment">// 正确做法是：当用if语句检测一个字符串中是否包含另一个字符串时，可以用数字-1来做indexOf()结果的比较参照：</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Couch'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>

<span class="token comment">// slice()、substring() 都可以用于返回目标字符串中指定的区间</span>
s<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;ouch&quot;</span>
s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;ouch&quot;</span>
<span class="token comment">// 提示：这两个方法的第二个参数所指定的都是区间的末端位置，而不是该区间的长度。这两个方法的不同之处在于对负值参数的处理方式，substring()会将负值视为0，而slice()则会将它与字符串的长度相加，因此，如果我们传给它们的参数是(1, -1)的话，它们实际情况分别是substring(1,0)和slice(1,s.length-1)</span>
s<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;ouch potat&quot;</span>
s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;C&quot;</span>

<span class="token comment">// substr() 由于它不在JavaScript的标准中，所以您应该尽量用substring去代替它</span>

<span class="token comment">// split() 可以根据所传递的分割字符串，将目标字符串分割成一个数组</span>
s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">[</span><span class="token string">&quot;Couch&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;potato&quot;</span><span class="token punctuation">]</span>

<span class="token comment">// split()是join()的反操作，join()会将一个数组合并成一个字符串</span>
s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Couch potato&quot;</span>

<span class="token comment">// concat() 用于合并字符串，它的功能与基本字符串类型的+操作符类似</span>
s<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">&quot;es&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Couch potatoes&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h3 id="_7-math"><a href="#_7-math" class="header-anchor">#</a> 7.Math</h3> <p>Math对象不是函数对象，不能对它调用new操作符，以创建别的对象。实际上，Math只是一个包含一系列方法和属性、用于数学计算的全局内建对象</p> <p>Math的属性都是一些不可修改的常数，因此它们都以名字大写的方式来表示自己与一般属性变量的不同（这类似于Number()构造器的常数属性）：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 数字常数  π</span>
Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">;</span> <span class="token comment">// 3.141592653589793</span>

<span class="token comment">// 2的平方根</span>
Math<span class="token punctuation">.</span><span class="token constant">SQRT2</span><span class="token punctuation">;</span> <span class="token comment">// 1.4142135623730951</span>

<span class="token comment">// 欧拉常数 e</span>
Math<span class="token punctuation">.</span><span class="token constant">E</span><span class="token punctuation">;</span> <span class="token comment">// 2.718281828459045</span>

<span class="token comment">// 2的自然对数</span>
Math<span class="token punctuation">.</span><span class="token constant">LN2</span><span class="token punctuation">;</span> <span class="token comment">// 0.6931471805599453</span>

<span class="token comment">// 10的自然对数</span>
Math<span class="token punctuation">.</span><span class="token constant">LN10</span><span class="token punctuation">;</span> <span class="token comment">// 2.302585092994046</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>Math对象所提供的方法:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// random() 生成随机数，返回的是0到1之间的某个数</span>
Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0.3649461670235814</span>
<span class="token comment">// 获得0到100之间的某个数</span>
<span class="token number">100</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取的是某max和min之间的值，可以通过一个公式((max - min) * Math.random()) + min，如想获取的是2到10之间的某个数：</span>
<span class="token number">8</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 9.175650496668485</span>

<span class="token comment">// floor() 取小于或等于指定值的最大整数</span>
<span class="token comment">// ceil() 取大于或等于指定值的最小整数</span>
<span class="token comment">// round() 取最靠近指定值的整数</span>

<span class="token comment">// 下面执行结果不是0就是1：</span>
Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获得一个数字集合中的最大值或最小值，可以调用max()和min()方法，所以当我们在一个表单中需要一个合法的月份值时，可以用下面的方式来确保相关的数据能正常工作：</span>
Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> input<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Math也提供用于执行数学计算的方法：执行指数运算时调用pow()、执行求平方根调用sqrt()，执行三角函数计算sin()、cos()、atan()等</span>
<span class="token comment">// 求2的8次方：</span>
Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 256</span>
<span class="token comment">// 求9的平方根：</span>
Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_8-date"><a href="#_8-date" class="header-anchor">#</a> 8.Date</h3> <p>Date()是用于创建Date对象的构造器函数，我们在用它创建对象时，可以传递以下几个参数：</p> <ol><li>无参数（默认为当天的日期）</li> <li>一个用于表现日期的字符串</li> <li>分开传递的日、月、时间等值</li> <li>一个timestamp值</li></ol> <p>下面是一个表示当天日期和时间的对象示例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Wed Feb 27 2013 23:49:28 GMT-0800 (PST)</span>
<span class="token comment">// 控制台显示了Date对象的toString()结果，因此这里的长字符串&quot;Web Feb...&quot;实际上就是这个Date对象的字符串表述</span>

<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2015 11 12'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  Thu Nov 12 2015 00:00:00 GMT-0800 (PST)</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'1 1 2016'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  Fri Jan 01 2016 00:00:00 GMT-0800 (PST)</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'1 mar 2016 5:30'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  Tue Mar 01 2016 05:30:00 GMT-0800 (PST) </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Date构造器可以接受各种不同格式的字符串日期输入表示法，但要定义一个精确的日期，例如将用户输入直接传递给Date构造器，这样做显然不够可靠，更好的选择是向Date()构造器传递一些具体的数值，其中包括：</p> <ol><li>年份</li> <li>月份：（从0（1月）到11（12月））</li> <li>日期：从1到31</li> <li>时数：从0到23</li> <li>分钟：从0到59</li> <li>秒钟：从0到59</li> <li>毫秒数：从0到999</li></ol> <p>如果我们传递所有参数：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2015</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">05</span><span class="token punctuation">,</span> <span class="token number">03</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Tue Jan 01 2015 17:05:03 GMT-0800 (PST) </span>
<span class="token comment">// 如果只传递日期和时钟值</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2015</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Tue Jan 01 2015 17:00:00 GMT-0800 (PST) </span>
<span class="token comment">// 这里需要注意一件事，由于月份是从0开始，所以这里的1指的是2月</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2016</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Sun Feb 28 2016 00:00:00 GMT-0800 (PST) </span>
<span class="token comment">// 如果我们所传递的值越过了被允许的范围，Date对象会自动启动“溢出式”前进处理</span>
<span class="token comment">// 如，由于2016年2月不存在30日这一天，所以它会自动解释为该年的3月1日（2016年为闰年）</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2016</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Mon Feb 29 2016 00:00:00 GMT-0800 (PST)</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2016</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Tue Mar 01 2016 00:00:00 GMT-0800 (PST)</span>
<span class="token comment">// 类似，如果我们传递的是12月32日，就会被自动解释为来年的1月1日</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2012</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Mon Dec 31 2012 00:00:00 GMT-0800 (PST)</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2012</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Tue Jan 01 2013 00:00:00 GMT-0800 (PST)</span>
<span class="token comment">// 最后，也可以通过timestamp的方式来初始化一个Date对象（这是一个以毫秒为单位的UNIX纪元方式，开始于1970年1月1日）</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">1357027200000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Tue Jan 01 2013 00:00:00 GMT-0800 (PST)</span>
<span class="token comment">// 如果，在调用Date()时没有使用new操作符，那么无论是否传递了参数，所得字符串的内容始终都将是当前的日期和时间</span>
<span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Wed Feb 27 2013 23:51:46 GMT-0800 (PST) </span>
<span class="token function">Date</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;it doesn't matter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Wed Feb 27 2013 23:51:52 GMT-0800 (PST)</span>
<span class="token keyword">typeof</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;string&quot;</span>
<span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;object&quot; </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>Date对象的方法</strong></p> <p>一旦创建了Date对象，就可以调用该对象中的许多方法，其中使用最多的都是一些名为set*()或get*()的方法，例如getMonth()、setMonth()、getHours()、setHours()等：</p> <p>首先，新建一个Date对象：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2015</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
d<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Sun Feb 01 2015 00:00:00 GMT-0800 (PST)</span>
<span class="token comment">// 然后，将其月份设置成3月（记住，月份数是从0开始的）</span>
d<span class="token punctuation">.</span><span class="token function">setMonth</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1425196800000</span>
d<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Sun Mar 01 2015 00:00:00 GMT-0800 (PST)</span>
<span class="token comment">// 接着，我们读取月份数</span>
d<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>除这些实例方法外，Date()函数/对象中还有另外两个方法，这两个属性不需要在实例化情况下使用，工作方式与Math的方法基本相同，在基于class概念的程序设计语言中，它们往往被称之为“静态”方法，因为它们的调用不需要依托对象实例</p> <p>如，Date.parse()方法，会将其所接收的字符串转换成相应的timestamp格式，并返回：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'Jan 11, 2018'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1515657600000</span>
<span class="token comment">// Date.UTC()方法则可以接受包括年份、月份、日期等在内的所有参数，并以此产生一个相应的、符合格林尼治时标准的timestamp值：</span>
Date<span class="token punctuation">.</span><span class="token constant">UTC</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 151562800000</span>
<span class="token comment">// 由于Date创建对象时可以接受一个timestamp参数，因此我们可以直接将Date.UTC()的结果传递给该构造器，下面，演示如何在新建Date对象的过程中，将UTC()返回的格林尼治时间转换为本地时间：</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token constant">UTC</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Wed Jan 10 2018 16:00:00 GMT-0800 (PST)</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Thu Jan 11 2018 00:00:00 GMT-0800 (PST)</span>
<span class="token comment">// 此外，ES5为Date构造器新增了now()方法，以用于返回当前timestamp,比起ES3中对着一个Date对象调用getTime()方法而言，更简洁</span>
Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1362038353044</span>
Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 您可以认为，日期的内部表达形式就是一个整数类型的timestamp，而它的其他表达形式只不过是这种内部形式的“糖衣”。这样一来，我们就很容易理解为什么Date对象的valueOf()返回的是一个timestamp数据：</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1362418306432</span>
<span class="token comment">// 将Date转换为整型则只需要一个+号</span>
<span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1362418318311 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>例子：计算生日</strong></p> <p>例如，自己2016年的生日（6月20日是星期几），可以这样：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2016</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
d<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token comment">// 由于星期数是从0（星期日）开始计数，因此，1应该代表了星期一，下面验证下：</span>
d<span class="token punctuation">.</span><span class="token function">toDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Mon Jun 20 2016&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>例子：看看从2016年到3016年有多少个6月20日是星期一，并查看这些日子在一周当中的分布情况</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 首先，初始化一个包含七个元素的数组，每个元素都分别对应着一周中的一天，以充当计数器，即，在循环到3016年的过程中，我们将会根据执行情况递增相关的计数器：</span>
<span class="token keyword">var</span> stats <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 接下来是该循环的实现；</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">2016</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3016</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    stats<span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
stats<span class="token punctuation">;</span> <span class="token comment">// [140, 146, 140, 145, 142, 142, 145]</span>
<span class="token comment">// 有142个星期五和145个星期六</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">10/21/2021, 9:22:35 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/my_blog/blogs/book/book-js-oop/003.html" class="prev">
            003 第三章 函数
          </a></span> <!----></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-70334359><li class="level-2" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#从数组到对象" class="sidebar-link reco-side-从数组到对象" data-v-70334359>从数组到对象</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_1-元素、属性、方法与成员" class="sidebar-link reco-side-_1-元素、属性、方法与成员" data-v-70334359>1.元素、属性、方法与成员</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_2-哈希表、关联型数组" class="sidebar-link reco-side-_2-哈希表、关联型数组" data-v-70334359>2.哈希表、关联型数组</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_3-访问对象属性" class="sidebar-link reco-side-_3-访问对象属性" data-v-70334359>3.访问对象属性</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_4-调用对象方法" class="sidebar-link reco-side-_4-调用对象方法" data-v-70334359>4.调用对象方法</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_5-修改属性与方法" class="sidebar-link reco-side-_5-修改属性与方法" data-v-70334359>5.修改属性与方法</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_6-使用this值" class="sidebar-link reco-side-_6-使用this值" data-v-70334359>6.使用this值</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_7-构造器函数" class="sidebar-link reco-side-_7-构造器函数" data-v-70334359>7.构造器函数</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_8-全局对象" class="sidebar-link reco-side-_8-全局对象" data-v-70334359>8.全局对象</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_9-构造器属性" class="sidebar-link reco-side-_9-构造器属性" data-v-70334359>9.构造器属性</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_10-instanceof操作符" class="sidebar-link reco-side-_10-instanceof操作符" data-v-70334359>10.instanceof操作符</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_11-返回对象的函数" class="sidebar-link reco-side-_11-返回对象的函数" data-v-70334359>11.返回对象的函数</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_12-传递对象" class="sidebar-link reco-side-_12-传递对象" data-v-70334359>12.传递对象</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_13-比较对象" class="sidebar-link reco-side-_13-比较对象" data-v-70334359>13.比较对象</a></li><li class="level-2" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#内建对象" class="sidebar-link reco-side-内建对象" data-v-70334359>内建对象</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_1-object" class="sidebar-link reco-side-_1-object" data-v-70334359>1.Object</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_2-array" class="sidebar-link reco-side-_2-array" data-v-70334359>2.Array</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_3-function" class="sidebar-link reco-side-_3-function" data-v-70334359>3.Function</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_4-boolean" class="sidebar-link reco-side-_4-boolean" data-v-70334359>4.Boolean</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_5-number" class="sidebar-link reco-side-_5-number" data-v-70334359>5.Number</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_6-string" class="sidebar-link reco-side-_6-string" data-v-70334359>6.String</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_7-math" class="sidebar-link reco-side-_7-math" data-v-70334359>7.Math</a></li><li class="level-3" data-v-70334359><a href="/my_blog/blogs/book/book-js-oop/004.html#_8-date" class="sidebar-link reco-side-_8-date" data-v-70334359>8.Date</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:-55px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div><div></div><APlayer audio="" fixed="true" mini="true" autoplay="autoplay" theme="#b7daff" loop="loop" order="random" preload="auto" volume="0.15" mutex="true" lrc-type="0" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer></div></div>
    <script src="/my_blog/assets/js/app.ad85b43d.js" defer></script><script src="/my_blog/assets/js/3.7890fc1a.js" defer></script><script src="/my_blog/assets/js/1.3262f3e4.js" defer></script><script src="/my_blog/assets/js/16.2a47d77d.js" defer></script>
  </body>
</html>
